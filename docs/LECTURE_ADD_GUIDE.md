# 강의 추가 가이드 📝

## 5분 안에 새 강의 추가하기

### Step 1: 마크다운 파일 작성 (3분)

`public/lectures/` 폴더에 새 마크다운 파일을 만드세요.

**파일명 규칙**: `과목ID-강의번호.md` (예: `yeonghaejapyeong-04.md`)

```markdown
---
courseId: yeonghaejapyeong
title: 지지의 특성
subtitle: 십이지지의 성질과 의미
description: 자축인묘진사오미신유술해 각 지지의 특징
orderIndex: 4
readTime: 20
tags: [지지, 십이지, 심화]
---

# 지지의 특성

## 지지(地支)란?

지지는 땅의 기운을 나타내는 12개의 글자입니다...

## 자(子) - 쥐

- **오행**: 수(水)
- **계절**: 겨울 (음력 11월)
- **시간**: 23:00-01:00
- **특성**: ...

## 축(丑) - 소

- **오행**: 토(土)
- **계절**: 겨울 끝 (음력 12월)
...
```

### Step 2: 프론트매터 작성 가이드

**필수 항목:**

| 항목 | 설명 | 예시 |
|------|------|------|
| `courseId` | 소속 과목 ID | `yeonghaejapyeong` |
| `title` | 강의 제목 | `지지의 특성` |
| `orderIndex` | 강의 순서 (1, 2, 3...) | `4` |
| `readTime` | 예상 소요 시간 (분) | `20` |

**선택 항목:**

| 항목 | 설명 | 예시 |
|------|------|------|
| `subtitle` | 부제목 | `십이지지의 성질과 의미` |
| `description` | 간단 설명 | `자축인묘진사... 각 지지의 특징` |
| `tags` | 태그 배열 | `[지지, 십이지, 심화]` |
| `relatedLectures` | 관련 강의 ID | `[yeonghaejapyeong-01, yeonghaejapyeong-03]` |

### Step 3: 과목 ID 목록

현재 사용 가능한 과목:

| 과목 ID | 과목명 |
|---------|--------|
| `yeonghaejapyeong` | 연해자평 |
| `ohaeng-theory` | 오행 이론 |
| `sibsin-guide` | 십신 활용법 |

### Step 4: 업로드 (1분)

터미널에서 실행:

```bash
npx tsx scripts/add-lecture.ts public/lectures/yeonghaejapyeong-04.md
```

또는 폴더 전체 업로드:

```bash
npx tsx scripts/add-lecture.ts public/lectures/
```

**완료!** 🎉

---

## 마크다운 문법 치트시트

### 제목

```markdown
# H1 제목 (강의 제목 - 한 번만 사용)
## H2 섹션 제목
### H3 하위 섹션
```

### 강조

```markdown
**굵게**
*기울임*
`코드`
```

### 리스트

```markdown
- 항목 1
- 항목 2
  - 하위 항목

1. 순서 1
2. 순서 2
```

### 표

```markdown
| 열1 | 열2 | 열3 |
|-----|-----|-----|
| A   | B   | C   |
| D   | E   | F   |
```

### 링크 (같은 과목 내 다른 강의)

```markdown
[1강 참고](/theories/yeonghaejapyeong/lecture/yeonghaejapyeong-01)
[오행 이론 보기](/theories/ohaeng-theory/lecture/ohaeng-01)
```

### 인용

```markdown
> 중요한 내용은 인용구로 강조할 수 있습니다.
```

### 구분선

```markdown
---
```

---

## 예시: 완성된 강의 파일

**파일명**: `public/lectures/yeonghaejapyeong-04.md`

```markdown
---
courseId: yeonghaejapyeong
title: 지지의 특성
subtitle: 십이지지의 성질과 의미
description: 자축인묘진사오미신유술해 각 지지의 특징과 활용법을 배웁니다
orderIndex: 4
readTime: 25
tags: [지지, 십이지지, 심화]
relatedLectures: [yeonghaejapyeong-01, yeonghaejapyeong-02]
---

# 지지의 특성

## 개요

지지(地支)는 땅의 기운을 나타내는 12개의 글자로, 시간과 방향, 계절을 표현합니다.

[음양의 이해](/theories/yeonghaejapyeong/lecture/yeonghaejapyeong-01)에서 배운 음양 개념을 지지에 적용해봅시다.

## 십이지지 분류

### 양지(陽支)

| 지지 | 한자 | 동물 | 오행 | 계절 |
|------|------|------|------|------|
| 인(寅) | 寅 | 호랑이 | 목 | 봄 시작 |
| 진(辰) | 辰 | 용 | 토 | 봄 끝 |
| 사(巳) | 巳 | 뱀 | 화 | 여름 시작 |
| 오(午) | 午 | 말 | 화 | 여름 |
| 신(申) | 申 | 원숭이 | 금 | 가을 시작 |
| 술(戌) | 戌 | 개 | 토 | 가을 끝 |

### 음지(陰支)

| 지지 | 한자 | 동물 | 오행 | 계절 |
|------|------|------|------|------|
| 자(子) | 子 | 쥐 | 수 | 겨울 |
| 축(丑) | 丑 | 소 | 토 | 겨울 끝 |
| 묘(卯) | 卯 | 토끼 | 목 | 봄 |
| 미(未) | 未 | 양 | 토 | 여름 끝 |
| 유(酉) | 酉 | 닭 | 금 | 가을 |
| 해(亥) | 亥 | 돼지 | 수 | 겨울 시작 |

## 각 지지의 특성

### 자(子) - 쥐 🐭

**오행**: 수(水) | **계절**: 겨울 (음력 11월) | **시간**: 23:00-01:00

- **특성**: 한겨울, 생명력이 응축된 시기
- **성격**: 지혜롭고 기민함, 적응력 강함
- **장점**: 민첩, 총명, 재치
- **단점**: 의심 많음, 소심

> **실전 적용**: 일지가 자수인 사람은 밤에 활동적이고, 직관이 뛰어나며 비밀을 잘 지킵니다.

### 축(丑) - 소 🐂

**오행**: 토(土) | **계절**: 겨울 끝 (음력 12월) | **시간**: 01:00-03:00

- **특성**: 추운 땅, 봄을 준비하는 시기
- **성격**: 성실하고 끈기 있음
- **장점**: 근면, 인내, 신뢰
- **단점**: 고집, 융통성 부족

---

## 실전 활용

### 지지의 상합(相合)

- **자축합토(子丑合土)**: 쥐와 소가 만나면 흙이 됨
- **인해합목(寅亥合木)**: 호랑이와 돼지가 만나면 나무가 됨
- **묘술합화(卯戌合火)**: 토끼와 개가 만나면 불이 됨

### 지지의 상충(相沖)

- **자오충(子午沖)**: 쥐와 말이 부딪힘 (수화상극)
- **축미충(丑未沖)**: 소와 양이 부딪힘 (토토상충)
- **인신충(寅申沖)**: 호랑이와 원숭이가 부딪힘

### 지지의 상형(相刑)

- **인사신 삼형(寅巳申三刑)**: 호랑이, 뱀, 원숭이
- **축술미 삼형(丑戌未三刑)**: 소, 개, 양

---

## 정리

지지는 사주의 **근본**이자 **뿌리**입니다.

- 천간이 겉으로 드러나는 성격이라면
- 지지는 내면의 본질과 잠재력을 나타냅니다

다음 강의에서는 **천간과 지지의 조합**, 즉 **육십갑자**에 대해 배워봅시다!

---

**다음 강의**: [5강: 육십갑자의 이해](/theories/yeonghaejapyeong/lecture/yeonghaejapyeong-05)
```

---

## 자주 묻는 질문 (FAQ)

### Q1. 강의 번호는 어떻게 정하나요?

**A**: 해당 과목의 마지막 강의 번호 + 1

예시:
- 연해자평 현재 3강까지 → 새 강의는 4강
- 오행이론 현재 1강까지 → 새 강의는 2강

### Q2. 과목 ID를 잘못 입력하면?

**A**: 에러가 발생합니다. 스크립트가 존재하는 과목인지 확인합니다.

```
❌ 오류: 'wrong-id' 과목을 찾을 수 없습니다.
사용 가능한 과목: yeonghaejapyeong, ohaeng-theory, sibsin-guide
```

### Q3. 이미 있는 강의 번호를 사용하면?

**A**: 기존 강의를 덮어씁니다 (업데이트). 새 강의를 추가하려면 빈 번호를 사용하세요.

### Q4. 이미지는 어떻게 추가하나요?

**A**:
1. Supabase Storage에 업로드 (추천)
2. 또는 `public/theories/images/` 폴더에 저장
3. 마크다운에서 `![설명](이미지URL)` 형식으로 삽입

### Q5. 여러 강의를 한 번에 추가할 수 있나요?

**A**: 네! `public/lectures/` 폴더에 여러 파일을 넣고:

```bash
npx tsx scripts/add-lecture.ts public/lectures/
```

---

## 문제 발생 시

### 체크리스트

- [ ] 프론트매터 형식이 올바른가? (YAML 형식)
- [ ] `courseId`가 존재하는 과목인가?
- [ ] `orderIndex`가 숫자인가?
- [ ] `tags`가 배열 형식인가? `[태그1, 태그2]`
- [ ] 마크다운 문법 오류가 없는가?

### 에러 메시지 해결

**"프론트매터를 찾을 수 없습니다"**
→ 파일 맨 위에 `---`로 시작하고 끝나는 프론트매터가 있는지 확인

**"필수 항목이 누락되었습니다"**
→ courseId, title, orderIndex, readTime 모두 입력했는지 확인

**"과목을 찾을 수 없습니다"**
→ courseId가 yeonghaejapyeong, ohaeng-theory, sibsin-guide 중 하나인지 확인

---

## 더 알아보기

- **마크다운 전체 가이드**: `docs/THEORY_QUICK_GUIDE.md`
- **이미지 추가 가이드**: `docs/THEORY_IMAGE_GUIDE.md`
- **DB 스키마**: `docs/THEORY_DB_SCHEMA_V2.sql`
