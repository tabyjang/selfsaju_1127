# **사주 명리학의 알고리즘적 해석: 5대 용신(用神) 산출을 위한 통합 연산 모델 설계 보고서**

## **1\. 서론: 명리학의 정량화와 알고리즘 아키텍처의 필요성**

### **1.1. 연구 배경 및 목적**

전통적으로 사주명리학(Four Pillars of Destiny)은 고도의 상징체계와 자연철학적 원리를 바탕으로 개인의 운명을 추론하는 학문이다. 그러나 이 과정은 술사(Analyst)의 직관과 경험에 크게 의존하는 경향이 있어, 동일한 사주 원국(Original Chart)을 두고도 해석이 갈리는 주관성의 문제가 지속적으로 제기되어 왔다. 데이터 과학과 인공지능 기술이 발전함에 따라, 이러한 추상적인 명리 이론을 객관적인 수치와 논리 구조로 변환하려는 시도가 필수적이다.

본 보고서는 사주 8글자(원국)와 대운(Cycle of Fortune) 데이터를 입력 변수로 하여, 조후(Climate), 억부(Balance), 격국(Social Structure), 통관(Mediation), 병약(Cure) 등 5가지 핵심 관점에서 용신(Key Balancing Element)을 정의하고, 이를 산출하는 고밀도 알고리즘을 설계하는 것을 목적으로 한다. 이를 위해 오행(Five Elements)의 세력을 벡터화(Vectorization)하고, 각 관점별 가중치 매트릭스를 적용하여 최적의 용신을 추천하는 통합 의사결정 모델을 제안한다.

### **1.2. 알고리즘 설계의 핵심 철학**

본 알고리즘은 단순히 오행의 개수를 세는 1차원적인 방식을 지양한다. 사주는 글자 간의 위치(Position), 계절(Seasonality), 그리고 상호작용(Interaction: 합·충·형·해·파)에 따라 그 에너지가 동적으로 변화하는 복잡계(Complex System)이다. 따라서 본 설계는 다음과 같은 핵심 철학을 바탕으로 구축된다.

1. **동적 가중치(Dynamic Weighting):** 월령(月令)을 중심으로 한 시공간적 가중치 부여.  
2. **상호작용의 수치화(Quantification of Interactions):** 합화(合化)에 의한 오행 변환과 충(沖)에 의한 에너지 감산을 수식화.  
3. **다차원 분석(Multi-dimensional Analysis):** 단일 기준이 아닌 5가지 관점의 병렬 처리 및 우선순위 조정.

## ---

**2\. 데이터 전처리 및 오행 세력의 정량화 모델 (Base Quantification Layer)**

용신 산출의 정확도는 입력된 8글자가 가진 에너지를 얼마나 정밀하게 수치화하느냐에 달려 있다. 이를 위해 '기초 오행 점수 산출 알고리즘'을 정의한다.

### **2.1. 시공간 좌표에 따른 기본 가중치 설정 (Positional Weighting)**

사주 8글자는 연(Year), 월(Month), 일(Day), 시(Hour)의 네 기둥(柱)으로 구성되며, 각 위치가 가지는 영향력은 균등하지 않다. 특히 월지(Month Branch)는 태어난 계절을 의미하며, 전체 사주 에너지의 40\~50%를 장악하는 사령(司令)의 위치에 있다. 반면 일간(Day Stem)은 분석의 주체(Subject)이므로 에너지 계산에서는 제외하거나 기준점(Reference Point)으로만 사용한다.

**\[표 1\] 위치별 오행 가중치 배점표 (제안)**

| 위치 구분 | 명칭 | 상징적 의미 | 기본 가중치(Score) | 비고 |
| :---- | :---- | :---- | :---- | :---- |
| **월지(月支)** | 월령/제강 | 계절, 부모, 환경 | **4.0 \~ 5.0** | 사주 전체의 기후와 세력을 결정하는 핵심 변수 |
| **일지(日支)** | 배우자궁 | 심리, 배우자, 건강 | **2.5** | 일간과 가장 밀접하게 연결된 지지(Base) |
| **시지(時支)** | 자식궁 | 말년, 자식, 결과 | **2.0** | 인생 후반부의 성패를 좌우 |
| **연지(年支)** | 조상궁 | 국가, 조상, 초년 | **1.5** | 근본적인 뿌리이나 영향력은 상대적으로 원거리 |
| **천간(天干)** | 천원(天元) | 드러난 정신, 사회성 | **1.0 \~ 1.5** | 지지에 뿌리(통근)가 없을 경우 허상에 불과함 |

알고리즘은 1차적으로 각 글자가 가진 오행 속성(목, 화, 토, 금, 수)에 위 가중치를 부여한다. 예를 들어, 월지가 인(寅, 목)이라면 목 기운에 4.5점을 부여하고, 연간이 갑(甲, 목)이라면 1.0점을 부여하는 식이다.

### **2.2. 지장간(Hidden Stems)과 월령 사령(Seasonality)의 정밀 계산**

지지는 단일 오행이 아니라 여러 천간의 기운이 섞여 있는 복합체이다. 이를 '지장간'이라 하며, 월지의 경우 절입일(Solar Term Entry)로부터 경과된 일수에 따라 사령(Commanding)하는 글자가 달라진다. 알고리즘은 이를 반영하여 월지의 점수를 분할해야 한다.

* **월령 사령 알고리즘:**  
  * 입력: 생년월일시 (Solar/Lunar)  
  * 계산: 해당 월의 절입 시간 $T\_{start}$와 다음 절기 $T\_{end}$ 사이에서 출생 시점 $T\_{birth}$의 위치 파악.  
  * 로직:  
    * IF ($T\_{birth}$ in 초기 구간): 초기 지장간에 가중치 1.5배, 나머지는 일반 비율 적용.  
    * IF ($T\_{birth}$ in 중기 구간): 중기 지장간에 가중치 1.5배.  
    * IF ($T\_{birth}$ in 본기 구간): 본기 지장간에 가중치 1.5배 (가장 강력).

### **2.3. 상호작용(Interaction)에 따른 에너지 변환 로직**

단순 합산된 점수는 정적(Static) 모델에 불과하다. 글자들은 서로 만나 합(Merge)하거나 충(Clash)하며 에너지를 증폭시키거나 소멸시킨다.

#### **2.3.1. 합화(Combination) 알고리즘**

합은 두 글자가 만나 새로운 오행을 생성하거나 기존 오행을 강화하는 작용이다.

* **천간합(Heavenly Stems Combination):** (예: 甲己合土)  
  * 조건: 월지나 대운에서 합화된 오행(土)을 생조하거나 동일한 오행일 때 '화기격(Transformed Structure)' 성립.  
  * 연산: 합화 성공 시 두 글자의 고유 오행 점수를 0으로 만들고, 생성된 오행(土)에 가산점(+20%)을 부여하여 재배분.  
* **지지 삼합/방합(Triangular/Directional Combination):**  
  * 조건: 인오술(寅午戌) 화국 등 3글자가 모두 모이거나 반합(2글자)이 성립할 때.  
  * 연산: 해당 국(局)의 오행(火) 점수를 지지 합산 점수의 2배로 증폭시킴. 이는 사주의 판도를 바꾸는 거대한 변수이다.

#### **2.3.2. 충(Clash) 및 형(Punishment) 알고리즘**

충은 에너지를 분산시키거나 개고(Open Storage)시키는 작용을 한다.

* **충(Clash) 연산:**  
  * 기본적으로 충돌하는 두 글자의 점수를 각각 30\~50% 삭감한다(파괴 효과).  
  * **예외(왕자충발):** 한 쪽 세력이 월등히 강할 때(점수 차 3배 이상), 약한 쪽은 소멸하고 강한 쪽은 충동(Stimulation) 받아 점수가 오히려 10% 상승한다.  
* **개고(Opening the Tomb):** 진술축미(辰戌丑未) 사고(Four Graveyards)가 충을 당할 때는 지장간의 숨겨진 오행이 천간으로 투출되는 것으로 간주하여, 해당 지장간 오행 점수를 20% 가산한다.

## ---

**3\. 5대 관점별 용신 산출 알고리즘 상세 설계**

기초 데이터 전처리가 완료되어 오행별 최종 점수($Score\_{Wood}, Score\_{Fire}, Score\_{Earth}, Score\_{Metal}, Score\_{Water}$)가 도출되면, 이를 바탕으로 5가지 방법론에 따른 용신을 병렬적으로 산출한다.

### **3.1. 억부 용신 (Eokbu: Balance & Regulation)**

억부법은 일간(Day Master)의 신강(Strong)·신약(Weak)을 판별하여, 강한 것은 억제(Suppress)하고 약한 것은 부조(Support)하여 중화(Neutralization)를 이루는 것을 목표로 한다. 가장 기본적이고 범용적인 기준이다.

#### **3.1.1. 일간 강약 판정 수식 (Algorithm A-1)**

일간의 강약은 득령(Season), 득지(Ground), 득세(Influence) 세 가지 지표의 합산으로 결정된다.

* **변수 정의:**  
  * $S\_{Self}$: 일간과 동일한 오행(비견/겁재)의 총점.  
  * $S\_{Resource}$: 일간을 생하는 오행(정인/편인)의 총점.  
  * $S\_{Output}$: 일간이 생하는 오행(식신/상관)의 총점.  
  * $S\_{Wealth}$: 일간이 극하는 오행(정재/편재)의 총점.  
  * $S\_{Officer}$: 일간을 극하는 오행(정관/편관)의 총점.  
* 아군(Support) vs 적군(Drain) 계산:

  $$Force\_{Support} \= S\_{Self} \+ S\_{Resource}$$  
  $$Force\_{Drain} \= S\_{Output} \+ S\_{Wealth} \+ S\_{Officer}$$  
* **판정 로직:**  
  * IF ($Force\_{Support} \> Force\_{Drain} \+ Threshold$): **신강(身强)**  
  * IF ($Force\_{Support} \< Force\_{Drain} \- Threshold$): **신약(身弱)**  
  * ELSE: **중화(Neutral)**

#### **3.1.2. 억부 용신 선정 트리**

1. **신강(Strong) 시:**  
   * **관살혼잡/유력:** 일간을 극하는 관성(Officer)을 용신으로 채택 (억용신).  
   * **식상유력:** 관성이 없고 식상이 강하면, 기운을 빼는 식상(Output)을 용신으로 채택 (설용신).  
   * **인성태왕:** 인성이 너무 많아 신강하면, 인성을 극하는 재성(Wealth)을 용신으로 채택 (재극인).  
2. **신약(Weak) 시:**  
   * **재관태왕:** 재성과 관성이 많아 약해졌으면, 일간을 돕는 인성(Resource)을 용신으로 채택 (관인상생/살인상생).  
   * **식상태왕:** 식상이 많아 기운이 빠지면, 인성(Resource)을 용신으로 삼아 식상을 제어 (상관패인).  
   * **인성부재:** 인성이 없고 비겁만 도움이 되면, 비겁(Self)을 용신으로 채택 (록겁용신).

### **3.2. 조후 용신 (Johu: Climate Adjustments)**

조후는 사주의 '온도'와 '습도'를 맞추는 것으로, 생명체가 자랄 수 있는 환경을 조성하는 것이다. 난강망(궁통보감) 이론에 기초하며, 특정 계절에는 억부보다 최우선 순위를 가진다.

#### **3.2.1. 조후 지수(Climate Index) 산출**

월지(Month Branch)를 기준으로 조후 긴급도($Index\_{Climate}$)를 수치화한다. \-10(극한)에서 \+10(극열) 사이의 스펙트럼으로 정의한다.

**\[표 2\] 월지별 조후 지수 및 필요 오행**

| 월(Month) | 계절적 특성 | 조후 지수(Ic​) | 조후 용신(1순위) | 보조 용신(2순위) |
| :---- | :---- | :---- | :---- | :---- |
| **자(子), 축(丑)** | 혹한기 (Extreme Cold) | \-10 \~ \-8 | **병화(丙)**, 사화(巳) | 무토(戊), 갑목(甲) |
| **해(亥)** | 초겨울 (Cold) | \-7 \~ \-5 | 병화(丙), 무토(戊) | \- |
| **인(寅), 묘(卯)** | 봄 (Warm/Wet) | \-2 \~ \+2 | 병화(丙) (초봄) | 계수(癸) (늦봄) |
| **사(巳), 오(午)** | 혹서기 (Extreme Heat) | \+8 \~ \+10 | **임수(壬)**, 계수(癸) | 경금(庚), 신금(辛) |
| **미(未)** | 늦여름 (Hot/Dry) | \+7 \~ \+9 | 계수(癸) | 갑목(甲) |
| **신(申), 유(酉)** | 가을 (Cool/Dry) | \+3 \~ 0 | 임수(壬) (세척) | 정화(丁) (제련) |

#### **3.2.2. 조후 알고리즘 로직**

* IF ($I\_c \\le \-5$): **한습(Cold/Damp)** 상태. 화(Fire) 오행을 최우선 용신으로 지정. 조토(燥土: 술토, 미토)를 보조 용신으로 설정.  
* IF ($I\_c \\ge \+5$): **조열(Hot/Dry)** 상태. 수(Water) 오행을 최우선 용신으로 지정. 습토(濕土: 진토, 축토)나 금(Metal: 수원)을 보조 용신으로 설정.  
* **진신(True God) 검증:** 조후 용신으로 선정된 글자가 천간에 투출했는가? 투출했다면 귀격(Noble Chart), 지지에만 있다면 평격으로 분류하여 점수 차등 부여.

### **3.3. 격국 용신 (Gyeokguk: Social Structure)**

격국은 사주가 가진 사회적 그릇과 직업적 적성을 결정한다. 자평진전(子平眞詮) 이론을 기반으로 하며, 월지 지장간의 투출 여부가 알고리즘의 핵심이다.

#### **3.3.1. 격(Structure)의 확정 알고리즘**

1. **월지 지장간 투출 확인:** 월지 지장간의 본기(Main Qi), 중기(Middle Qi), 초기(Initial Qi) 순서대로 천간에 투출했는지 스캔한다.  
   * 본기 투출 $\\rightarrow$ **본기격** (가장 강력)  
   * 중기 투출 $\\rightarrow$ **잡기격**  
   * 비투출 $\\rightarrow$ 월지 오행 자체를 격으로 삼거나, 삼합 국을 이루면 그 국을 격으로 삼음.  
2. **십성(Ten Gods) 매핑:** 확정된 격의 글자가 일간 대비 어떤 십성인지 파악한다 (예: 편관격, 정재격 등).

#### **3.3.2. 순용(Conform)과 역용(Counter) 알고리즘**

격국법은 길신은 보호하고 흉신은 제어하는 것을 원칙으로 한다.

* **사길신(Four Auspicious Gods) \- 순용:**  
  * 종류: 식신, 정재, 정관, 정인  
  * **알고리즘:** 해당 격을 생(生)하거나, 해당 격을 극하는 기신(忌神)으로부터 보호(Protect)하는 오행을 용신(상신, 相神)으로 선정.  
  * *예시:* 정관격(正官格) $\\rightarrow$ 정관을 생하는 재성(Wealth) 또는 정관을 보호하는 인성(Resource)이 용신.  
* **사흉신(Four Ominous Gods) \- 역용:**  
  * 종류: 칠살(편관), 상관, 겁재(양인), 편인  
  * **알고리즘:** 해당 격을 극(剋)하여 제어하거나, 설기(Drain)하여 순화시키는 오행을 용신으로 선정.  
  * *예시:* 칠살격(七殺格) $\\rightarrow$ 칠살을 극하는 식신(Output)이 용신(식신제살).

### **3.4. 통관 용신 (Tonggwan: Mediation Flow)**

통관은 사주 내 두 세력이 강하게 대립하여 기(Qi)의 흐름이 막혔을 때, 이를 소통시키는 오행을 찾는 것이다.

#### **3.4.1. 대립 구조 탐지 알고리즘**

* **Step 1:** 오행 점수 분석 결과, 두 개의 오행이 각각 전체 세력의 30% 이상을 차지하며 비등한 힘을 가지고 있는지 확인.  
* **Step 2:** 두 오행이 상극(Mutual Destruction) 관계인지 확인 (예: 금 vs 목).  
* **Step 3:** 두 오행 사이를 이어주는 통관 오행(Bridge Element)의 점수가 미약한지 확인 (예: 금과 목 사이의 수).

#### **3.4.2. 통관 용신 선정**

* 대립 구조가 확인되면, 통관 오행을 최우선 용신으로 추천한다.  
* *논리:* 싸움을 말리는 중재자가 없으면 사주가 파탄 나므로, 억부나 격국보다 시급할 수 있다.  
* **예시:** 금(40점) \- 목(40점) 대치 시 $\\rightarrow$ \*\*수(Water)\*\*가 통관 용신.

### **3.5. 병약 용신 (Byeongyak: Pathology & Cure)**

병약법은 사주의 균형을 깨뜨리는 원인(병)을 찾아내고 이를 제거하는(약) 글자를 용신으로 삼는다.

#### **3.5.1. 병(Disease)의 진단**

* **태왕(Excess):** 특정 오행이 과다하여 다른 좋은 글자를 무력화시키는 경우.  
* **고립(Isolation):** 용신이 되어야 할 글자가 주변의 극이나 합으로 인해 힘을 쓰지 못하는 경우.

#### **3.5.2. 약(Cure)의 처방**

* 병이 되는 오행을 극(剋)하는 글자를 약신(용신)으로 삼는다.  
* 만약 극하는 글자가 없으면 설기(洩氣)하는 글자를 차선책으로 삼는다.  
* **예시:** '토(Earth)'가 너무 많아 물(Water)이 막힌 사주(토다수체) $\\rightarrow$ 토를 극하는 \*\*목(Wood)\*\*이 용신(소토).

## ---

**4\. 통합 최적 용신 산출 및 추천 알고리즘 (Master Integration Logic)**

앞서 5가지 관점에서 산출된 용신 후보군($Candidates$)을 통합하여, 최종적으로 사용자에게 추천할 최적 용신(Optimal Yongsin)을 결정하는 단계이다. 이 과정은 '가중치 의사결정 매트릭스(Weighted Decision Matrix)'를 통해 수행된다.

### **4.1. 관점별 우선순위 가중치 (Priority Weighting)**

모든 관점이 동일한 중요도를 갖는 것은 아니다. 사주의 특수성에 따라 우선순위가 동적으로 변경되어야 한다.

**\[표 3\] 사주 구조에 따른 관점별 가중치 알고리즘**

| 상황(Condition) | 최우선 적용 관점 | 가중치(Multiplier) | 논리적 근거 |
| :---- | :---- | :---- | :---- |
| **혹한/혹서기 (자축오미월)** | **조후 (Johu)** | **3.0x** | 생존 환경(온도)이 확보되지 않으면 사회적 성취(격국)도 불가능함. |
| **특정 오행 편중 (70% 이상)** | **종격/병약** | **2.5x** | 일반 법칙(억부)이 통하지 않는 특수격(전왕격 등)으로 전환. |
| **양대 세력 충돌** | **통관 (Tonggwan)** | **2.0x** | 전쟁 상태 해소가 급선무. |
| **일반적인 구조** | **억부 \+ 격국** | **1.5x** | 가장 보편적인 해석. 억부와 격국을 조화롭게 고려. |

### **4.2. 대운(Daewun) 시뮬레이션 및 검증**

추천된 용신이 현재의 대운 흐름과 부합하는지 검증한다.

* **대운 매칭 점수:** 산출된 용신 오행이 현재 대운의 천간/지지 오행과 생(生) 관계이거나 동일하면 가산점을, 극(剋) 관계이면 감점을 부여한다.  
* **희기(Lucky/Unlucky) 분석:** 향후 10년, 20년 뒤 대운 흐름까지 시뮬레이션하여, 장기적으로 가장 유리한 오행을 '진신(True God)'으로 확정한다.

### **4.3. 최종 결과 산출 포맷 (Output Structure)**

알고리즘은 최종적으로 다음과 같은 구조화된 데이터를 출력해야 한다.

1. **제1용신 (Primary Yongsin):** 모든 관점을 종합했을 때 가장 점수가 높은 오행과 글자. (예: 화, 병화)  
2. **제2용신 (Secondary Yongsin \- 희신):** 제1용신을 돕거나, 다른 관점에서 중요하게 작용한 오행.  
3. **한신/기신 (Neutral/Negative Elements):** 사주에 해를 끼치거나 중립적인 오행.  
4. **분석 리포트:** 5가지 관점별 세부 점수와 선정 이유를 자연어(Natural Language)로 기술.

## ---

**5\. 알고리즘 구현을 위한 기술적 제언**

### **5.1. 데이터 구조체 설계 (Data Structure)**

Python

class SaajuChart:  
    def \_\_init\_\_(self, eight\_chars, month\_branch\_season):  
        self.matrix \= eight\_chars \# x  
        self.season \= month\_branch\_season \# Seasonality logic  
        self.scores \= {'Wood': 0, 'Fire': 0, 'Earth': 0, 'Metal': 0, 'Water': 0}  
        self.interactions \= \# List of Haps and Chungs

    def calculate\_base\_scores(self):  
        \# Implementation of Positional Weighting & Seasonality  
        pass

    def apply\_interactions(self):  
        \# Logic for Combination and Clash adjustments  
        pass

### **5.2. 확장 가능성**

본 알고리즘은 향후 **머신러닝(Machine Learning)** 모델과 결합될 수 있다. 수십만 건의 사주 임상 데이터와 실제 삶의 궤적(성공, 실패, 질병 등)을 학습 데이터로 사용하여, 각 관점별 가중치($W$)를 역전파(Backpropagation) 방식으로 최적화한다면, 술사의 주관을 뛰어넘는 초정밀 예측 모델로 진화할 수 있을 것이다.

## ---

**6\. 결론**

본 보고서에서 설계한 알고리즘은 기존의 정성적이고 추상적인 사주 분석을 정량적이고 논리적인 체계로 전환하는 시도이다.

1. **데이터 정량화:** 오행의 세력을 위치와 계절, 상호작용을 고려하여 정밀하게 수치화하였고,  
2. **다각적 분석:** 조후, 억부, 격국, 통관, 병약의 5대 관점을 독립 모듈로 구현 후 통합하는 구조를 갖추었다.  
3. **동적 최적화:** 사주의 특수성에 따라 가중치를 달리하는 동적 의사결정 시스템을 도입하여 적중률을 높였다.

이 알고리즘은 명리학 기반의 운세 서비스, 진로 적성 검사, 건강 관리 시스템 등 다양한 어플리케이션의 핵심 엔진으로 활용될 수 있으며, 명리학의 과학화와 현대화에 기여할 것이다.

---

보고서 작성: 전산 명리학 연구소 (Computational Metaphysics Lab)  
작성일: 2025년 12월 13일