/*
 * Pretendard: 웹사이트에서 사용할 예쁜 한글 폰트를 불러오는 부분입니다.
 * 이 폰트는 가독성이 좋아서 많이 사용됩니다.
 */
@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');

/*
 * :root { ... }
 * 여기는 웹사이트 전체의 '색상 팔레트'이자 '디자인 설정 센터'입니다.
 * 앱 전체에서 사용될 색상, 투명도 등을 변수(--변수이름)로 미리 정해두는 곳입니다.
 * 예를 들어, --accent-color의 색상 코드(#FACC15)를 다른 색으로 바꾸면,
 * 이 변수를 사용하는 모든 버튼의 색깔이 한 번에 바뀝니다.
 * 'rgb'는 Red, Green, Blue 빛의 삼원색을 의미합니다.
 */
:root {
  /* 라이트 모드(주간) 색상 변수 */
  --bg-start-rgb: 250, 252, 237; /* 매우 밝은 노랑-라임색 (배경 그라데이션 시작색) */
  --bg-end-rgb: 255, 255, 255;   /* 흰색 (배경 그라데이션 끝색) */
  --card-bg-rgb: 255, 255, 255; /* 카드 배경색 (흰색) */
  --card-bg-alpha: 0.7;         /* 카드 배경 투명도 (0.0 ~ 1.0) */
  --text-primary-rgb: 17, 24, 39; /* 기본 텍스트 색상 (거의 검은색) */
  --text-secondary-rgb: 75, 85, 99; /* 보조 텍스트 색상 (진한 회색) */
  --text-tertiary-rgb: 107, 114, 128; /* 3차 텍스트 색상 (회색) */
  --border-color: rgba(0, 0, 0, 0.08); /* 테두리 색상 (연한 검은색) */
  --accent-color: #FACC15; /* 강조색 (노란색, 버튼 등에 사용) */
  --accent-color-dark: #EAB308; /* 더 진한 강조색 (버튼 위에 마우스를 올렸을 때) */
}

/*
 * body { ... }
 * 웹 페이지 전체의 기본 스타일을 정하는 곳입니다.
 * 여기에 설정된 글꼴, 배경색, 글자색 등이 웹사이트 전체에 기본으로 적용됩니다.
 */
body {
  font-family: 'Pretendard', sans-serif; /* 기본 글꼴을 'Pretendard'로 설정 */
  /* linear-gradient: 배경을 두 가지 색이 부드럽게 이어지는 그라데이션으로 만듭니다. */
  background-image: linear-gradient(135deg, rgb(var(--bg-start-rgb)), rgb(var(--bg-end-rgb)));
  color: rgb(var(--text-primary-rgb)); /* 기본 글자색을 설정 */
  -webkit-font-smoothing: antialiased; /* 글자를 부드럽게 표시 (크롬, 사파리 브라우저용) */
  -moz-osx-smoothing: grayscale; /* 글자를 부드럽게 표시 (파이어폭스 브라우저용) */
}

/*
 * Custom Scrollbar
 * 스크롤바의 디자인을 예쁘게 꾸미는 부분입니다.
 */
.custom-scrollbar::-webkit-scrollbar { height: 8px; width: 8px; } /* 스크롤바의 크기 */
.custom-scrollbar::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); border-radius: 10px; } /* 스크롤바 배경 */
.custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 10px; border: 2px solid transparent; background-clip: content-box; } /* 스크롤 막대 */
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.3); } /* 스크롤 막대에 마우스를 올렸을 때 */

/*
 * Animations
 * 애니메이션 효과를 미리 만들어두는 곳입니다.
 * 여기서 만든 효과를 원하는 요소에 클래스로 추가하여 사용할 수 있습니다.
 */
@keyframes fade-in { from { opacity: 0; } to { opacity: 1; } } /* 서서히 나타나는 효과 */
.animate-fade-in { animation: fade-in 0.6s ease-in-out forwards; } /* fade-in 효과를 0.6초 동안 실행 */

@keyframes fade-in-fast { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } } /* 위에서 아래로 살짝 내려오며 빠르게 나타나는 효과 */
.animate-fade-in-fast { animation: fade-in-fast 0.3s ease-in-out forwards; } /* fade-in-fast 효과를 0.3초 동안 실행 */

@keyframes fade-in-slow { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } /* 작은 크기에서 커지며 나타나는 효과 */
.animate-fade-in-slow { animation: fade-in-slow 1s ease-out forwards; animation-delay: 0.2s; opacity: 0; } /* 0.2초 후 1초 동안 실행 */

@keyframes fade-in-slower { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } /* 아래에서 위로 부드럽게 떠오르는 효과 */
.animate-fade-in-slower { animation: fade-in-slower 1.2s ease-out forwards; animation-delay: 0.5s; opacity: 0; } /* 0.5초 후 1.2초 동안 실행 */

@keyframes heartbeat { 0%, 100% { transform: scale(1); } 25% { transform: scale(1.1); } 50% { transform: scale(1); } 75% { transform: scale(1.05); } } /* 두근두근하는 하트비트 효과 */
.animate-heartbeat { animation: heartbeat 2.5s ease-in-out infinite; } /* 하트비트 효과를 2.5초마다 무한 반복 */

@keyframes sparkle { 0%, 100% { transform: scale(1) rotate(0deg); box-shadow: 0 0 20px rgba(255, 215, 0, 0.5), 0 0 40px rgba(255, 215, 0, 0.3); } 25% { transform: scale(1.05) rotate(1deg); box-shadow: 0 0 30px rgba(255, 215, 0, 0.7), 0 0 60px rgba(255, 215, 0, 0.5); } 50% { transform: scale(1.1) rotate(0deg); box-shadow: 0 0 40px rgba(255, 215, 0, 0.9), 0 0 80px rgba(255, 215, 0, 0.7); } 75% { transform: scale(1.05) rotate(-1deg); box-shadow: 0 0 30px rgba(255, 215, 0, 0.7), 0 0 60px rgba(255, 215, 0, 0.5); } } /* 반짝반짝 빛나는 효과 */
.animate-sparkle { animation: sparkle 2s ease-in-out infinite; } /* 반짝이는 효과를 2초마다 무한 반복 */

@keyframes border-sparkle { 0%, 100% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.6), 0 0 30px rgba(255, 215, 0, 0.4), inset 0 0 10px rgba(255, 215, 0, 0.2); } 50% { box-shadow: 0 0 25px rgba(255, 215, 0, 0.9), 0 0 50px rgba(255, 215, 0, 0.6), inset 0 0 15px rgba(255, 215, 0, 0.3); } } /* 테두리만 반짝이는 효과 (크기 변화 없음) */
.animate-border-sparkle { animation: border-sparkle 2s ease-in-out infinite; } /* 테두리 반짝임을 2초마다 무한 반복 */

@keyframes rainbow-glow { 0% { box-shadow: 0 0 20px rgba(255, 0, 150, 0.6), 0 0 40px rgba(255, 0, 150, 0.4); } 25% { box-shadow: 0 0 25px rgba(255, 215, 0, 0.6), 0 0 50px rgba(255, 215, 0, 0.4); } 50% { box-shadow: 0 0 30px rgba(0, 255, 150, 0.6), 0 0 60px rgba(0, 255, 150, 0.4); } 75% { box-shadow: 0 0 25px rgba(100, 150, 255, 0.6), 0 0 50px rgba(100, 150, 255, 0.4); } 100% { box-shadow: 0 0 20px rgba(255, 0, 150, 0.6), 0 0 40px rgba(255, 0, 150, 0.4); } } /* 무지개 빛나는 효과 */
.animate-rainbow-glow { animation: rainbow-glow 3s ease-in-out infinite; } /* 무지개 효과를 3초마다 무한 반복 */

/* 페이지 전환 애니메이션 */
@keyframes pageSlideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pageFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.page-transition {
  animation: pageSlideIn 0.5s ease-out;
}

.page-fade-in {
  animation: pageFadeIn 0.3s ease-out;
}

/*
 * Glassmorphism Card Effect
 * '유리 카드' 효과를 정의하는 부분입니다. 반투명하고 흐릿한 배경을 가진 카드 스타일입니다.
 */
.glass-card {
  background: rgba(var(--card-bg-rgb), var(--card-bg-alpha)); /* 카드 배경색과 투명도 설정 */
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); /* 배경을 흐릿하게 만드는 효과 */
  border-radius: 1.25rem; /* 카드 모서리를 둥글게 */
  border: 1px solid var(--border-color); /* 카드 테두리 */
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.05); /* 카드에 그림자 효과 추가 */
  transition: all 0.3s ease; /* 마우스를 올렸을 때 부드럽게 변하는 효과 */
}
.glass-card:hover { border-color: rgba(234, 178, 8, 0.5); } /* 마우스를 올렸을 때 테두리 색 변경 */

/*
 * Primary Button Style
 * 'AI 분석 시작하기'와 같은 주요 버튼의 디자인을 정의합니다.
 */
.btn-primary {
  background-color: var(--accent-color); /* 버튼 배경색을 강조색으로 설정 */
  transition: all 0.3s ease; /* 부드러운 전환 효과 */
  color: #422006; /* 버튼 글자색 */
  font-weight: 700; /* 글자 굵기 */
  box-shadow: 0 4px 15px 0 rgba(250, 204, 21, 0.3); /* 버튼 그림자 */
}

/* 버튼 위에 마우스를 올렸을 때의 스타일 */
.btn-primary:hover:not(:disabled) {
  transform: translateY(-2px); /* 살짝 위로 올라가는 효과 */
  background-color: var(--accent-color-dark); /* 더 진한 강조색으로 변경 */
  box-shadow: 0 8px 25px 0 rgba(250, 204, 21, 0.4); /* 그림자를 더 진하게 */
}

/*
 * Saju character strokes
 * ***** 이 부분이 사주 명반 글자에 검은색 테두리를 주는 핵심 코드입니다! *****
 * -webkit-text-stroke 속성을 사용하여 글자에 윤곽선(테두리)을 추가합니다.
 * '2px'는 테두리의 두께, 'rgba(0,0,0,1)'는 색상을 의미합니다. (R,G,B,투명도 순)
 * 투명도 값을 조절하여 테두리의 진하기를 바꿀 수 있습니다. (예: 1은 완전 불투명, 0.5는 반투명)
 */
.saju-char-outline, .saju-char-outline-small, .saju-text-outline {
  paint-order: stroke fill; /* 테두리가 글자를 덮지 않도록 순서 지정 */
}
.saju-char-outline { -webkit-text-stroke: 2px rgba(0,0,0,1); } /* 큰 글자용 테두리 */
.saju-char-outline-small { -webkit-text-stroke: 1.5px rgba(0,0,0,1); } /* 작은 글자용 테두리 */
.saju-text-outline { -webkit-text-stroke: 0.5px rgba(0,0,0,0.1); } /* 일반 텍스트용 얇은 테두리 */

/*
 * Prose overrides for analysis result
 * AI가 생성해주는 분석 결과 텍스트(제목, 본문, 강조 등)의 스타일을 보기 좋게 꾸미는 부분입니다.
 */
.prose { color: rgb(var(--text-primary-rgb)); }
.prose h2, .prose h3 { color: rgb(var(--text-primary-rgb)); border-color: var(--border-color); }
.prose h4 { color: rgb(var(--text-primary-rgb)); }
.prose p { color: rgb(var(--text-secondary-rgb)); line-height: 1.8; } /* 단락 스타일, 줄 간격을 넓혀 가독성 높임 */
.prose strong { color: #854d0e; } /* 굵은 글씨 색상 */

/*
 * Sinsal Table Styles
 * 신살 설명 팝업창 안에 있는 표(table)의 디자인을 정의합니다.
 */
.sinsal-table {
  width: 100%; margin-top: 1.5rem; border-collapse: collapse;
  background-color: rgba(var(--bg-start-rgb), 0.2);
  border: 1px solid var(--border-color);
  border-radius: 0.5rem; overflow: hidden; font-size: 0.95rem;
}
.sinsal-table th, .sinsal-table td { padding: 0.75rem 1rem; text-align: left; border-bottom: 1px solid var(--border-color); }
.sinsal-table thead { background-color: rgba(0, 0, 0, 0.03); } /* 표의 제목 행 배경색 */
.sinsal-table th { font-weight: 600; color: #b45309; } /* 표의 제목 글자 스타일 */
.sinsal-table td { color: rgb(var(--text-secondary-rgb)); vertical-align: middle; }
.sinsal-table tbody tr:last-child td { border-bottom: none; } /* 마지막 줄의 아래 테두리 제거 */
.sinsal-table td:first-child { font-weight: 500; color: rgb(var(--text-primary-rgb)); }
